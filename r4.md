# Resumen R4 - David Umaña Blanco 2016175133

 <font size="2"> 

### 4.6 BLUETOOTH

En 1994 la empresa L. M. Ericsson se interesó en conectar sus teléfonos móviles y otros dispositivos sin necesidad de cables. En conjunto con otras cuatro empresas (IBM, Intel, Nokia y Toshiba), formó un SIG (un consorcio) con el propósito de desarrollar un estándar inalámbrico para interconectar computadoras, dispositivos de comunicaciones y accesorios a través de radios inalámbricos de bajo consumo de energía, con corto alcance y económicos. A este proyecto se le asignó el nombre Bluetooth. Aunque la idea original eran tan sólo prescindir de cables entre dispositivos, su alcance se expandió rápidamente al área de las LANs inalámbricas. Esta expansión también provocó el surgimiento de competencia con el 802.11. Al final para controlar esto la especificación de Bluetooth está dirigida a un sistema completo, de la capa física a la capa de aplicación. El comité 802.15 del IEEE estandariza solamente las capas física y la de enlace de datos.

**4.6.1 Arquitectura de Bluetooth:** La unidad básica de un sistema Bluetooth es una piconet, que consta de un nodo maestro y hasta siete nodos esclavos activos a una distancia de 10 metros. En una misma sala pueden encontrarse varias piconets y se pueden conectar mediante un nodo puente. Un conjunto de piconets interconectadas se denomina scatternet. En una piconet puede haber hasta 255 nodos estacionados en la red. Éstos son dispositivos que el nodo maestro ha cambiado a un estado de bajo consumo de energía para reducir el desgaste innecesario de sus pilas. Lo único que un dispositivo en estado estacionado puede hacer es responder a una señal de activación por parte del maestro. La razón para el diseño maestro/esclavo es que los diseñadores pretendían facilitar la implementación de chips Bluetooth completos sin alto costo. La consecuencia de esta decisión es que los esclavos son sumamente pasivos y hacen lo que los maestros indican. Una piconet es un sistema TDM centralizado, en el cual el maestro controla el reloj y determina qué dispositivo se comunica en un momento determinado. Las comunicaciones se realizan entre el maestro y el esclavo, no de esclavo a esclavo.

**4.6.2 Aplicaciones de Bluetooth:** Algunos de los perfiles de Bluetooth: Acceso genérico: Procedimientos para el manejo de enlaces. Descubrimiento de servicios: Protocolo para descubrir los servicios que se ofrecen. Puerto serie: Reemplazo para un cable de puerto serie. Intercambio genérico de objetos:  Define la relación cliente-servidor para el traslado de objetos. Acceso a LAN: Protocolo entre una computadora móvil y una LAN fija. Acceso telefónico a redes: Permite que una computadora portátil realice una llamada por medio de un teléfono móvil. Fax: Permite que un fax móvil se comunique con un teléfono móvil. Telefonía inalámbrica: Conecta un teléfono con su estación base local. Intercom: Walkie-talkie digital. Headset: Posibilita la comunicación de voz sin utilizar las manos. Envío de objetos: Ofrece una manera de intercambiar objetos simples. Transferencia de archivos: Proporciona una característica para transferencia de archivos más general. Sincronización: Permite a un PDA sincronizarse con otra computadora.

**4.6.3 La pila de protocolos de Bluetooth:** El estándar Bluetooth cuenta con muchos protocolos agrupados con poco orden en capas. La estructura de capas no sigue el modelo OSI, TCP/IP, 802 o algún otro modelo conocido. Pero IEEE se encuentra modificando actualmente Bluetooth para ajustarlo al modelo 802. La capa inferior es la capa de radio física, es bastante similar a la capa física de los modelos OSI y 802. Se ocupa de la transmisión y la modulación de radio. Gran parte del interés se enfoca en el objetivo de lograr que el sistema tenga un costo bajo para que pueda entrar al mercado masivo. La capa de banda base tiene algunos puntos en común con la subcapa MAC aunque también incluye elementos de la capa física. Se encarga de la manera en que el maestro controla las ranuras de tiempo y de que éstas se agrupen en tramas.

**4.6.4 La capa de radio de Bluetooth:** La capa de radio traslada los bits del maestro al esclavo, o viceversa. Es un sistema de baja potencia con un rango de 10 metros que opera en la banda ISM de 2.4 GHz. La banda se divide en 79 canales de 1 MHz cada uno. La modulación es por desplazamiento de frecuencia con 1 bit por Hz, lo cual da una tasa de datos aproximada de 1 Mbps, pero gran parte de este espectro la consume la sobrecarga. Para asignar los canales de manera equitativa, el espectro de saltos de frecuencia se utiliza a 1600 saltos por segundo y un tiempo de permanencia de 625 µseg. Todos los nodos de una piconet saltan de manera simultánea, y el maestro establece la secuencia de salto.

Debido a que tanto el 802.11 como Bluetooth operan en la banda ISM de 2.4 GHz en los mismos 79 canales, interfieren entre sí. Puesto que Bluetooth salta mucho más rápido que el 802.11, es más probable que un dispositivo Bluetooth dañe las transmisiones del 802.11. Como el 802.11 y el 802.15 son estándares del IEEE, éste busca una solución para el problema, aunque ambos sistemas utilizan la banda ISM por eso no se requiere licencia para su uso. El estándar 802.11a emplea la otra banda ISM (5 GHz), pero tal estándar tiene un rango mucho más corto que el 802.11b, por lo que no es una solución idónea en todos los casos. Algunas empresas han recurrido a la prohibición total de Bluetooth para solucionar el problema. 

**4.6.5 La capa de banda base de Bluetooth:** La capa de banda base de Bluetooth es lo más parecido a una subcapa MAC. Esta capa convierte el flujo de bits puros en tramas y define algunos formatos clave. El maestro de cada piconet define una serie de ranuras de tiempo de 625 µseg y las transmisiones del maestro empiezan en las ranuras pares, y las de los esclavos, en las ranuras impares, conocida como multiplexión por división de tiempo. La sincronización de saltos de frecuencia permite un tiempo de asentamiento de 250-260 µseg por salto para que los circuitos de radio se estabilicen. El enlazado de ranuras está en función de la cantidad de ranuras por trama y el tiempo. Cada trama se transmite por un canal lógico llamado enlace, entre el maestro y un esclavo. Hay dos tipos de enlaces: 1- Asíncrono no Orientado a la Conexión, que se utiliza para datos conmutados en paquetes disponibles a intervalos irregulares. 2- Síncrono Orientado a la Conexión, para datos en tiempo real, como conexiones telefónicas.

**4.6.6 La capa L2CAP de Bluetooth:** Funciones principales de la capa L2CAP: 1. Acepta paquetes de hasta 64 KB provenientes de las capas superiores y los divide en tramas para transmitirlos. Las tramas se reensamblan nuevamente en paquetes en el otro extremo. 2. Maneja la multiplexión y desmultiplexión de múltiples fuentes de paquetes. Cuando se reensambla un paquete, la capa L2CAP determina cuál protocolo de las capas superiores lo manejará. 3. L2CAP se encarga de la calidad de los requerimientos de servicio, tanto al establecer los enlaces como durante la operación normal. 

**4.6.7 Estructura de la trama de Bluetooth:** La trama de Bluetooth empieza con un código de acceso que identifica al maestro, cuyo propósito es que los esclavos que se encuentren en el rango de alcance de dos maestros sepan, cuál tráfico es para ellos. Tiene un encabezado de 54 bits que contiene campos comunes de la subcapa MAC. Un campo de datos de hasta 2744 bits (para una transmisión de cinco ranuras). Para una sola ranura de tiempo, el formato es el mismo excepto que el campo de datos es de 240 bits. El encabezado tiene: Dirección, que identifica a cuál de los ocho dispositivos activos está destinada la trama. El campo Tipo indica el tipo de trama (ACL, SCO, de sondeo o nula), el tipo de corrección de errores que se utiliza en el campo de datos y cuántas ranuras de longitud tiene la trama. Un esclavo establece el bit de flujo cuando su búfer está lleno y no puede recibir más datos. Ésta es una forma primitiva de control de flujo. Luego se encuentra el encabezado Suma de verificación de 8 bits. Todo el encabezado de 18 bits se repite tres veces para formar el encabezado de 54 bits. En el receptor un circuito sencillo examina las tres copias de cada bit. Si son las mismas, el bit es aceptado, de lo contrario, se impone la opinión de la mayoría. Los 54 bits de capacidad de transmisión se utilizan para enviar 10 bits de encabezado. 
 </font> 
